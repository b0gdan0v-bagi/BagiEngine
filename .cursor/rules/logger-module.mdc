---
description: Rules for Logger module development
globs: src/Modules/BECore/Logger/**/*
alwaysApply: false
---

# Logger Module Guidelines

## Overview

Event-based logging system. Log messages are emitted as `LogEvent`, sinks subscribe to process output.

## Architecture

| Component | Purpose |
|-----------|---------|
| `Logger` | Static helper, emits `LogEvent` |
| `LogEvent` | Event with level and message (`eastl::string_view`) |
| `FlushLogsEvent` | Event to trigger flushing of sinks |
| `ILogSink` | Interface for log output destinations |
| `LoggerManager` | Manages sinks, accessed via `CoreManager::GetLoggerManager()` |

## Log Levels

`Debug` → `Info` → `Warning` → `Error` → `Fatal`

**Note:** `Fatal` auto-flushes after logging.

## Built-in Sinks

| Sink | Output | Options |
|------|--------|---------|
| `ConsoleSink` | stdout/stderr with ANSI colors | `colorEnabled` |
| `FileSink` | Thread-safe file logging | `filename`, `append` |
| `OutputSink` | Platform debug output (OutputDebugString on Windows) | — |

## Sink Configuration

File: `config/LoggerConfig.xml`
- `type` — `Console`, `File`, `Output`
- `enabled` — enable/disable
- `priority` — processing order (lower = higher priority)
- `minLevel` — minimum log level to process

## Best Practices

- Use macros: `LOG_INFO()`, `LOG_DEBUG()`, `LOG_ERROR()`, etc.
- Use appropriate log levels
- Use `eastl::string_view` for messages in sinks
- Fatal errors auto-flush — no manual flush needed

## Don't

- Store `string_view` — convert to string if needed
- Emit `LogEvent` directly — use `Logger` static methods
- Create sinks manually — let `LoggerManager` handle initialization
