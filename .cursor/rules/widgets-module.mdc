---
description: Rules for Widget development
globs: 
  - src/Widgets/**/*
  - src/Modules/BECore/Widgets/**/*
alwaysApply: false
---

# Widget System Guidelines

## Overview

Widgets are UI/rendering components implementing `IWidget`. Managed by `WidgetManager`, configured via XML.

## IWidget Interface

| Method | Purpose |
|--------|---------|
| `Initialize(const XmlNode&)` | Load config, subscribe to events |
| `Update()` | Called every frame (logic) |
| `Draw()` | Called every frame (rendering) |

## Widget Lifecycle

1. Construction — default constructor, no init
2. `Initialize(XmlNode)` — load config, subscribe to events
3. `Update()` → `Draw()` — every frame
4. Destruction — cleanup, unsubscribe from events

## XML Configuration

File: `config/WidgetsConfig.xml`
- `type` — widget class name
- `name` — widget identifier
- `priority` — processing order

## Best Practices

- **Single Responsibility** — one widget = one purpose
- **XML Configuration** — all tunable parameters from XML
- **Event-Driven** — use events for widget communication
- **Lazy Initialization** — initialize resources in `Initialize()`, not constructor
- **Separation** — `Update()` for logic, `Draw()` for rendering

## ImGui Widgets

Use `ImGui::Begin()`/`ImGui::End()` in `Draw()` method for ImGui-based widgets.
