---
description: Rules for Events module development
globs: src/Modules/Events/**/*
alwaysApply: false
---

# Events Module Guidelines

## Overview

Event system built on EnTT's dispatcher with CRTP-based static event types.

## Creating Events

Inherit from `EventBase<T>`:
- Simple event — empty struct
- Event with data — add fields and constructor

## Subscribing

Use static `Subscribe` method with member function pointer:
- `MyEvent::Subscribe<&Handler::OnEvent>(this);`

## Emitting

| Method | Behavior |
|--------|----------|
| `MyEvent::Emit(args...)` | Immediate (synchronous) |
| `MyEvent::Enqueue(args...)` | Queued (processed during Update) |
| `MyEvent::Update()` | Process queued events |

## Event Categories

| File | Purpose |
|------|---------|
| `ApplicationEvents.h` | App lifecycle (Quit, CleanUp) |
| `RenderEvents.h` | Rendering (NewFrame, RenderPresent) |

## Best Practices

- Keep events small — only necessary data
- Use `PoolString` for string data
- Prefer `Emit` over `Enqueue` unless deferred processing needed
- Unsubscribe in destructor if object lifetime is shorter than event source

## Don't

- Store pointers to temporary objects in events
- Emit events from constructors
- Create circular event dependencies
