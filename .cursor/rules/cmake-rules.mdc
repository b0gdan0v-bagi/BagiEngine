---
description: Rules for CMake configuration
globs: 
  - CMakeLists.txt
  - "**/CMakeLists.txt"
  - "*.cmake"
alwaysApply: false
---

# CMake Guidelines for BagiEngine

## Project Settings

- CMake 3.31+
- C++23 standard
- Ninja generator

## Module Structure

Each module has its own `CMakeLists.txt`:
- Collect sources with `file(GLOB_RECURSE ...)`
- Create `STATIC` library
- Include directories: own `src/` + cross-module path
- Link to `BECoreModule` if needed
- Reuse PCH: `target_precompile_headers(MyModule REUSE_FROM BECoreModule)`

## Module Dependencies Order

BECoreModule must be first (provides PCH):
1. `BECore` â€” first!
2. `Math`
3. `Events`
4. `SDL`

## External Dependencies

Use `FetchContent` with `GIT_SHALLOW TRUE` for faster fetches.

## Best Practices

| Practice | Visibility |
|----------|------------|
| Headers other modules need | `PUBLIC` |
| Implementation details | `PRIVATE` |
| Static libraries | Always for modules |
| PCH reuse | `REUSE_FROM BECoreModule` |

## Platform-Specific

- MSVC: `/FI"BECore/pch.h"` for force include
- MSVC: `/W4` warnings
- GCC/Clang: `-Wall -Wextra`
